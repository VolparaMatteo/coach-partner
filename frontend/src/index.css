@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-100;
  }
}

@layer components {
  .btn-primary {
    @apply bg-brand-600 text-white px-6 py-3 rounded-xl font-semibold
           hover:bg-brand-700 transition-colors duration-200
           focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed
           dark:focus:ring-offset-gray-900;
  }

  .btn-secondary {
    @apply bg-white text-gray-700 px-6 py-3 rounded-xl font-semibold
           border border-gray-300 hover:bg-gray-50 transition-colors duration-200
           focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2
           dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-700
           dark:focus:ring-offset-gray-900;
  }

  .card {
    @apply bg-white rounded-2xl shadow-sm border border-gray-100 p-6
           dark:bg-gray-900 dark:border-gray-800;
  }

  .input-field {
    @apply w-full px-4 py-3 rounded-xl border border-gray-300
           focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent
           placeholder-gray-400 transition-all duration-200
           dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-500;
  }

  .label {
    @apply block text-sm font-medium text-gray-700 mb-1.5
           dark:text-gray-300;
  }
}

:root {
  --tooltip-bg: white;
}
.dark {
  --tooltip-bg: #1f2937;
}

@keyframes slide-in {
  from { opacity: 0; transform: translateX(100%); }
  to { opacity: 1; transform: translateX(0); }
}
.animate-slide-in {
  animation: slide-in 0.25s ease-out;
}

/* Print-optimized styles */
@media print {
  body {
    background: white !important;
    color: black !important;
    font-size: 12pt;
    line-height: 1.4;
  }

  /* Hide navigation, FAB, toasts, search */
  aside,
  header,
  nav,
  .no-print,
  button:not(.print-keep),
  [class*="QuickNote"],
  [class*="Toast"],
  [class*="GlobalSearch"],
  [class*="OfflineIndicator"] {
    display: none !important;
  }

  /* Full width layout */
  .min-h-screen {
    min-height: auto !important;
  }
  main {
    padding: 0 !important;
    overflow: visible !important;
  }
  .flex-1.flex.flex-col {
    display: block !important;
  }

  /* Cards styling for print */
  .card {
    border: 1px solid #e5e7eb !important;
    box-shadow: none !important;
    background: white !important;
    break-inside: avoid;
    page-break-inside: avoid;
    margin-bottom: 12pt;
  }

  /* Reset dark mode colors */
  * {
    color: black !important;
    background-color: transparent !important;
    border-color: #d1d5db !important;
  }

  /* Keep colored badges readable */
  [class*="bg-green-"] { background-color: #dcfce7 !important; }
  [class*="bg-yellow-"] { background-color: #fef9c3 !important; }
  [class*="bg-red-"] { background-color: #fee2e2 !important; }
  [class*="bg-blue-"] { background-color: #dbeafe !important; }
  [class*="bg-brand-"] { background-color: #dcfce7 !important; }

  /* Table-like grids */
  .grid {
    break-inside: avoid;
  }

  /* Print header */
  .print-header {
    display: block !important;
    text-align: center;
    margin-bottom: 16pt;
    padding-bottom: 8pt;
    border-bottom: 2px solid black;
  }
  .print-header h1 {
    font-size: 18pt;
    font-weight: bold;
  }
  .print-header p {
    font-size: 10pt;
    color: #666 !important;
  }

  /* Force page breaks */
  .print-page-break {
    page-break-before: always;
  }

  /* Compact spacing for print */
  .space-y-6 > * + * {
    margin-top: 8pt !important;
  }
  .space-y-4 > * + * {
    margin-top: 6pt !important;
  }
  .space-y-3 > * + * {
    margin-top: 4pt !important;
  }

  @page {
    margin: 1.5cm;
    size: A4;
  }
}
